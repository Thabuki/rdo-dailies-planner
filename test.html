<!DOCTYPE html>
<html>
  <head>
    <title>Module Test</title>
  </head>
  <body>
    <h1>Testing ES Modules</h1>
    <div id="result">Loading...</div>

    <script type="module">
      try {
        // Test imports
        const {
          fetchDailies,
          shapeData,
        } = await import("./js/api.js");
        const { state, loadSettings } =
          await import("./js/state.js");
        const { render } = await import(
          "./js/render.js"
        );

        document.getElementById(
          "result"
        ).innerHTML = `
        <p style="color: green;">✓ All modules loaded successfully!</p>
        <p>API_URL exists: ${!!fetchDailies}</p>
        <p>State exists: ${!!state}</p>
        <p>Render exists: ${!!render}</p>
      `;

        console.log(
          "All modules loaded successfully!"
        );
      } catch (err) {
        document.getElementById(
          "result"
        ).innerHTML = `
        <p style="color: red;">✗ Module loading error:</p>
        <pre>${err.message}\n${err.stack}</pre>
      `;
        console.error(
          "Module loading error:",
          err
        );
      }
    </script>
  </body>
</html>
